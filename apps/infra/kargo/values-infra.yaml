# Kargo values for: infra cluster
# This is the CONTROLLER - full Kargo installation

kargo:
  # Enable all controller components
  api:
    enabled: true
    replicas: 1  # Single replica for local dev
    
    ingress:
      enabled: true
      ingressClassName: traefik
      annotations:
        traefik.ingress.kubernetes.io/router.entrypoints: web
      hosts:
        - host: kargo.infra.local
          paths:
            - path: /
              pathType: Prefix
    
    # Admin account for initial setup
    adminAccount:
      enabled: true
      # Password hash - change this in production!
      # Default password: admin
      passwordHash: "$2a$10$Zrhhie4vLz76U043gSkofulQpMeC4Saa4XVFhVQrMAYZHpKEpWMsW"
      # Token signing key - CHANGE THIS IN PRODUCTION!
      # Generate with: openssl rand -base64 32
      tokenSigningKey: "c2VjcmV0LWtleS1mb3ItbG9jYWwtZGV2LW9ubHktY2hhbmdlLWluLXByb2Q="
  
  controller:
    enabled: true
    replicas: 1  # Single replica for local dev
    
    # Global controller settings
    shardConfig:
      # Enable multi-cluster mode
      managementController:
        enabled: true
  
  # Webhooks for validation
  webhooks:
    enabled: true
    
  # Garbage collection
  garbageCollector:
    enabled: true

